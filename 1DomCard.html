<!DOCTYPE html>
<html>
<head>
	<title></title>
<style>

.clMain {   /*main container for both right and left panels*/
	background: linen;
	float: left;
	border: 2px solid #4CAF50;
	width: 300px;
	height: 500px;
	margin: 20px;
	text-align: center;
	border-radius: 10px;
	padding: 10px;
    font-size: 15px;
};

.clCard{  /*new card*/
	float: left;
	text-align: center;
	border: black;
	background-color: green;
	width: 50px;
	height: 40px;
	margin: 20px;
	text-align: center;
	border-radius: 10px;
	padding: 10px;
    font-size: 15px;
};

	</style>
</head>
<body>
<h1>Working with Cards</h1>
<div>
<div>


<!-- The left side actively creates cards and deletes them -->
<div id="idLeft" class="clMain">
	<button id="idAdd">Add Card</button>
</div>


</div>



<!-- The right side doesnt change and constrains the left side -->
<div>
<div id="idRight" class="clMain" >
	<h1>Right Side</h1>
</div>
</div>

</div>
<script>

let nextCardNumber = 1;

document.addEventListener("click",onButtonClick) ;

function onButtonClick(){
	console.log(event.target.id);
	const targetID = event.target.id ;
	if (targetID === "addCardButton" ){
		
		idLeft = event.target.parentNode;
		newCard = createCard() ;
		idLeft.insertBefore(newCard,null);
	
	} else if (targetID === "deleteButton") {

		clickedCard = event.target.parentNode;
		console.log(clickedCard);
		idLeft = clickedCard.parentNode ;
		idLeft.removeChild(clickedCard) ;

	} else if ( targetID === "beforeButton") {
		
		clickedCard = event.target.parentNode ;
		idLeft = clickedCard.parentNode ;
		newCard = createCard() ;
		idLeft.insertBefore(newCard,clickedCard) ;

	} else if ( targetID === "afterButton") {

		clickedCard = event.target.parentNode ;
		idLeft = clickedCard.parentNode ;
		newCard = createCard() ;
		nextSibling = clickedCard.nextSibling ;
		idLeft.insertBefore(newCard,nextSibling) ;

	}
}

function createCard() {

	const newCard = document.createElement("div");
	newCard.className = "clCard";
	const cardTitle = "My Little Card " + nextCardNumber;
	const newCardText = document.createTextNode(cardTitle);

	const breakOne = document.createElement("br") ;
	
	const newBeforeButton = document.createElement("button") ;
	newBeforeButton.setAttribute("id","beforeButton") ;
	const newBeforeButtonText = document.createTextNode("Add Before") ;
	newBeforeButton.appendChild(newBeforeButtonText) ;

	const newCardSpace1 = document.createTextNode(" ") ;

	const newAfterButton = document.createElement("button") ;
	newAfterButton.setAttribute("id","afterButton") ;
	const newAfterButtonText = document.createTextNode("Add After") ;
	newAfterButton.appendChild(newAfterButtonText) ;

	const breakTwo = document.createElement("br") ;

	const newDeleteButton = document.createElement("button") ;
	newDeleteButton.setAttribute("id","deleteButton") ;
	const newDeleteButtonText = document.createTextNode("Delete") ;
	newDeleteButton.appendChild(newDeleteButtonText) ;

	newCard.appendChild(newCardText);
	newCard.appendChild(breakOne) ;
	newCard.appendChild(newBeforeButton);
	newCard.appendChild(newCardSpace1);
	newCard.appendChild(newAfterButton);
	newCard.appendChild(breakTwo) ;
	newCard.appendChild(newDeleteButton);

	nextCardNumber = nextCardNumber + 1;
	return(newCard) ;
}


// let counter = 0;

// const addCardButton = document.getElementById("idAddCard");
// const leftPanel = document.getElementById("idLeft");


// idAdd.addEventListener("click", onAddCardClicked);


// function onAddCardClicked(event) {
// 	console.log("Inside onAddCardClicked");
// 	leftPanel.appendChild(makeDiv());
// };

// function makeDiv() {
// 	const div = document.createElement("div");
// 	div.textContent = "Card " + counter++;
// 	const addBeforeBtn = document.createElement("button");
// 	//addBeforeBtn.className = "clButton";
// 	addBeforeBtn.textContent = "Add Before";
// 	const addAfterBtn = document.createElement("button");
// 	addAfterBtn.textContent = "Add After";
// 	const delBtn = document.createElement("button");
// 	delBtn.textContent = "Delete";
// 	delBtn.addEventListener("click", onDeleteCard);
// 	div.appendChild(document.createElement("br"));
// 	div.appendChild(addBeforeBtn);
// 	div.appendChild(addAfterBtn);
// 	div.appendChild(document.createElement("br"));
// 	div.appendChild(delBtn);
// 	div.className = "clCard";
// 	// console.log(div);
// 	// console.log(delBtn);
// 	return div;
// }


// document.addEventListener('click', clickAdd); //listen for click
// let nextCardNumber = 1;

// function clickAdd(event){ 
// 	//console.log("imhere");
// 	//console.log(event.target); //add new card
// 	const newCard = document.createElement("div");
// 	newCard.className = "clCard";
// 	newCard.textContent = "Cardv1" + nextCardNumber++;
// 	console.log("newCard = ", newCard);
// 	document.getElementById("idLeft").appendChild(newCard);
// //	newCard.classList.add("clCard");
// 	// let node = document.getElementById("idLeft").parentElement;
// 	// node.appendChild(newCard);
// 	//return(newCard) ;
// };









	 //aftercard
	// let addAfter = document.createElement("button");
	// 	addAfter.textContent = "Add After";
	// 	document.body.appendChild(addAfter);







	//beforecard
	// let addBefore = document.createElement("button");
	//  	addBefore.textContent = "Add Before";
	//  	node.appendChild(addBefore);

	 //aftercard

	// //deletelastcard
	// let ditchCard = document.createElement("button");
	// 	ditchCard.textContent = "Delete";
	// 	document.body.appendChild(ditchCard);
	//  	node.appendChild(textnode);
	 //return node;


//counter = 1;
	// let node = document.createElement("DIV");
	// let textnode = document.createTextNode("Card" + counter++);

//	document.getElementById("divArea").appendChild(node);

	// const addBefore = document.createElement ("button");
	// const addAfter = document.createElement ("button");
	// const delCard = document.createElement ("button");
	// event.target.button = "Add Before";
	// event.target.button = "Add After";
	// event.target.button = "Delete";
	//event.target.appendChild(makeDiv("I'm new and improved"));



// function makeDiv(message){
// 	const newDiv = document.createElement("div");
// 	newDiv.textContent = message;
// 	newDiv.className = "card";
// 	return newDiv;
// };

// function makeButtons (message) {
// 	const addBefore = document.createElement ("button");
// 	const addAfter = document.createElement ("button");
// 	const delCard = document.createElement ("button");
// 	addBtn.textContent = message;
// 	return addBtn;
// };
















// function makeDiv(message){
// 	const newDiv = document.createElement("div");
// 	newDiv.textContent = message;
// 	newDiv.className = "card";
// 	return newDiv;

// };

// counter = 0;
// idAdd.addEventListener('click', clickAdd);
// function clickAdd (event){
// 	event.target.textContent = "Card" + counter++;
// 	event.target.appendChild(makeDiv("I'm new child"));
// };


// idAdd.addEventListener('click', clickAdd);
// function clickAdd () {
// 	console.log("imduplicating");
// 	const newDiv = document.createElement("div");
// 	newDiv.className = "card";
// 	return newDiv;
// };
// function clickAdd(message){
// 	const newDiv = document.createElement("div");
// 	newDiv.textContent = message;
// 	newDiv.className = "left";
// 	console.log("Hi I'm a new Div", newDiv);
// 	return newDiv;
// };

// function clickBef () {
//  	let showList = document.getElementById("idList");
//   	console.log(idList.textContent);
// };

// function clickAft () {
//  	let showList = document.getElementById("idList");
//   	console.log(idList.textContent);
// };






// function onButtonClick(){
// 	console.log(event.target.id);
// 	const targetID = event.target.id ;
// 	if (targetID === "addCardButton" ){
		
// 		leftPanel = event.target.parentNode;
// 		newCard = createCard() ;
// 		leftPanel.insertBefore(newCard,null);
	
// 	} else if (targetID === "deleteButton") {

// 		clickedCard = event.target.parentNode;
// 		console.log(clickedCard);
// 		leftPanel = clickedCard.parentNode ;
// 		leftPanel.removeChild(clickedCard) ;

// 	} else if ( targetID === "beforeButton") {
		
// 		clickedCard = event.target.parentNode ;
// 		leftPanel = clickedCard.parentNode ;
// 		newCard = createCard() ;
// 		leftPanel.insertBefore(newCard,clickedCard) ;

// 	} else if ( targetID === "afterButton") {

// 		clickedCard = event.target.parentNode ;
// 		leftPanel = clickedCard.parentNode ;
// 		newCard = createCard() ;
// 		nextSibling = clickedCard.nextSibling ;
// 		leftPanel.insertBefore(newCard,nextSibling) ;

// 	}
// }

// function createCard() {

// 	const newCard = document.createElement("div") ;
// 	newCard.setAttribute("class","clPanel");
// 	const cardTitle = "Card " + nextCardNumber;
// 	const newCardText = document.createTextNode(cardTitle);

// 	const breakOne = document.createElement("br") ;
	
// 	const newBeforeButton = document.createElement("button") ;
// 	newBeforeButton.setAttribute("id","beforeButton") ;
// 	const newBeforeButtonText = document.createTextNode("Add Before") ;
// 	newBeforeButton.appendChild(newBeforeButtonText) ;

// 	const newCardSpace1 = document.createTextNode(" ") ;

// 	const newAfterButton = document.createElement("button") ;
// 	newAfterButton.setAttribute("id","afterButton") ;
// 	const newAfterButtonText = document.createTextNode("Add After") ;
// 	newAfterButton.appendChild(newAfterButtonText) ;

// 	const breakTwo = document.createElement("br") ;

// 	const newDeleteButton = document.createElement("button") ;
// 	newDeleteButton.setAttribute("id","deleteButton") ;
// 	const newDeleteButtonText = document.createTextNode("Delete") ;
// 	newDeleteButton.appendChild(newDeleteButtonText) ;

// 	newCard.appendChild(newCardText);
// 	newCard.appendChild(breakOne) ;
// 	newCard.appendChild(newBeforeButton);
// 	newCard.appendChild(newCardSpace1);
// 	newCard.appendChild(newAfterButton);
// 	newCard.appendChild(breakTwo) ;
// 	newCard.appendChild(newDeleteButton);

// 	nextCardNumber = nextCardNumber + 1;
// 	return(newCard) ;
//}
</script>

</body>
</html>